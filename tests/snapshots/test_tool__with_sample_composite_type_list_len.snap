---
source: tests/test_tool.rs
expression: out
---
dwarf types --[[
TypeSet (10 types) = {
  <0> = "i8" i8
  <1> = "i32" i32
  <2> = "void" void
  <3> = "point_init" func (p *point <5>) void <2>
  <4> = *point <5>
  <5> = "point" struct {
            @  0 x float <6>
            @  4 y float <6>
            @  8 prev *point <5>
            @ 16 next *point <5>
        }
  <6> = "float" float32
  <10> = "join" func (a *point <5>,
                      b *point <5>) void <2>
  <13> = "list_len" func (p point <5>) int <14>
  <14> = "int" i32
}

0 non-fatal errors:
]]--
list_len 0x1130+28 (file 0x1130)
            1130: 31 c0                   xor eax,eax
            1132: 48 8d 4c 24 08          lea rcx,[rsp+8]
            1137: 66 0f 1f 84 00 00 00 00 nop [rax+rax]
            1140: ff c0                   inc eax
            1142: 48 8b 49 10             mov rcx,[rcx+10h]
            1146: 48 85 c9                test rcx,rcx
            1149: 75 f5                   jne short 0000000000001140h
            114b: c3                      ret

mil program = 
program  62 instrs
    0 r12 <- #pre:stack_bottom
    1 r2 <- #pre:CF
    2 r3 <- #pre:PF
    3 r4 <- #pre:AF
    4 r5 <- #pre:ZF
    5 r6 <- #pre:SF
    6 r7 <- #pre:TF
    7 r8 <- #pre:IF
    8 r9 <- #pre:DF
    9 r10 <- #pre:OF
   10 r11 <- #pre:RBP
   11 r12 <- #pre:RSP
   12 r13 <- #pre:RIP
   13 r14 <- #pre:RDI
   14 r15 <- #pre:RSI
   15 r16 <- #pre:RAX
   16 r17 <- #pre:RBX
   17 r18 <- #pre:RCX
   18 r19 <- #pre:RDX
   19 r20 <- #pre:R8
   20 r21 <- #pre:R9
   21 r22 <- #pre:R10
   22 r23 <- #pre:R11
   23 r24 <- #pre:R12
   24 r25 <- #pre:R13
   25 r26 <- #pre:R14
   26 r27 <- #pre:R15
   27 r28 <- undef
   28 r29 <- undef
   29 r30 <- undef
   30 r31 <- undef
   31 r32 <- undef
   32 r33 <- undef
   33 r34 <- undef
0x1130:
   34 r28 <- l4       r16
   35 r29 <- l4       r16
   36 r28 <- xor      r28,r29  dword
   37 r16 <- v8.l4=   r16 ← r28
   38 r10 <- false
   39 r2 <- false
   40 r6 <- sign     r28
   41 r5 <- is0      r28
   42 r30 <- l1       r28
   43 r3 <- parity   r30
0x1132:
   44 r28 <- const8   8 (0x8)
   45 r28 <- add      r28,r12  qword
   46 r18 <- get      r28
0x1137:
   47 r28 <- TODO     unsupported: nop [rax+rax]
0x1140:
   48 r28 <- TODO     unsupported: inc eax
0x1142:
   49 r29 <- const8   16 (0x10)
   50 r29 <- add      r29,r18  qword
   51 r28 <- loadm8   addr:r29
   52 r18 <- get      r28
0x1146:
   53 r18 <- and      r18,r18  qword
   54 r6 <- sign     r18
   55 r5 <- is0      r18
   56 r30 <- l1       r18
   57 r3 <- parity   r18
   58 r2 <- const1   0 (0x0)
   59 r10 <- const1   0 (0x0)
0x1149:
   60 r28 <- TODO     unsupported: jne short 0000000000001140h
0x114b:
   61 r28 <- ret      r16


ssa program  7 instrs
.B0:  in[]     ;; 0x0  62 insn 0 phis
  (  3)  r15 <- #pre:RAX
         r36 <- xor      r15,r15  dword
         r37 <- v8.l4=   r15 ← r36
         r47 <- TODO     unsupported: nop [rax+rax]
         r48 <- TODO     unsupported: inc eax
         r60 <- TODO     unsupported: jne short 0000000000001140h
         r61 <- ret      r37



'T0: {
    <-- TODO: unsupported: nop [rax+rax] -->;
    <-- TODO: unsupported: inc eax -->;
    <-- TODO: unsupported: jne short 0000000000001140h -->;
    return (<pre:RAX> with l4 = <pre:RAX> ^ <pre:RAX>)
}
